<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="noodp">
<meta http-equiv=x-ua-compatible content="IE=edge, chrome=1">
<title>Control your lights with a Nintendo DS - DrosoCode</title><meta name=Description content><meta property="og:title" content="Control your lights with a Nintendo DS">
<meta property="og:description" content="Introduction A few months ago, I stumbled upon the DS Linux project while browsing the internet. The project is not actively developed anymore (which was to expect as the DS is a pretty old device with the first model released in 2004). However, working builds are available on their website here and I wanted to play a bit with it.
Installation According to the project’s website, DS Linux is compatible with the original DS and the DS Lite (this is the one that I own), and maybe the newer models in compatibility mode.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://thomasz.me/2020/11/03/control-your-light-with-a-nintendo-ds/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2020-11-03T00:00:00+01:00">
<meta property="article:modified_time" content="2020-11-03T00:00:00+01:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Control your lights with a Nintendo DS">
<meta name=twitter:description content="Introduction A few months ago, I stumbled upon the DS Linux project while browsing the internet. The project is not actively developed anymore (which was to expect as the DS is a pretty old device with the first model released in 2004). However, working builds are available on their website here and I wanted to play a bit with it.
Installation According to the project’s website, DS Linux is compatible with the original DS and the DS Lite (this is the one that I own), and maybe the newer models in compatibility mode.">
<meta name=application-name content="DrosoCode">
<meta name=apple-mobile-web-app-title content="DrosoCode"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://thomasz.me/2020/11/03/control-your-light-with-a-nintendo-ds/><link rel=prev href=https://thomasz.me/2020/10/06/wake-on-lan-and-dual-boot/><link rel=next href=https://thomasz.me/2021/11/29/upgrading-your-rgb-with-wled-aurora-and-openrgb/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Control your lights with a Nintendo DS","inLanguage":"en-us","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/thomasz.me\/2020\/11\/03\/control-your-light-with-a-nintendo-ds\/"},"genre":"posts","keywords":"docker, home assistant, iot, nintendo ds, python","wordcount":494,"url":"https:\/\/thomasz.me\/2020\/11\/03\/control-your-light-with-a-nintendo-ds\/","datePublished":"2020-11-03T00:00:00+01:00","dateModified":"2020-11-03T00:00:00+01:00","publisher":{"@type":"Organization","name":"drosocode"},"author":{"@type":"Person","name":"droso"},"description":""}</script></head><body header-desktop header-mobile><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script>
<div id=mask></div><div class=wrapper><header class=desktop id=header-desktop>
<div class=header-wrapper>
<div class=header-title>
<a href=/ title=DrosoCode>DrosoCode</a>
</div><div class=menu>
<div class=menu-inner><a class=menu-item href=/posts/> Posts </a><a class=menu-item href=/projects/> Projects </a><a class=menu-item href=https://github.com/drosocode rel="noopener noreffer" target=_blank> Github </a><a class=menu-item href=/about/> About </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search>
<i class="fas fa-search fa-fw"></i>
</a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear>
<i class="fas fa-times-circle fa-fw"></i>
</a>
<span class="search-button search-loading" id=search-loading-desktop>
<i class="fas fa-spinner fa-fw fa-spin"></i>
</span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i>
</a>
</div></div></div></header><header class=mobile id=header-mobile>
<div class=header-container>
<div class=header-wrapper>
<div class=header-title>
<a href=/ title=DrosoCode>DrosoCode</a>
</div><div class=menu-toggle id=menu-toggle-mobile>
<span></span><span></span><span></span>
</div></div><div class=menu id=menu-mobile><div class=search-wrapper>
<div class="search mobile" id=search-mobile>
<input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search>
<i class="fas fa-search fa-fw"></i>
</a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear>
<i class="fas fa-times-circle fa-fw"></i>
</a>
<span class="search-button search-loading" id=search-loading-mobile>
<i class="fas fa-spinner fa-fw fa-spin"></i>
</span>
</div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>
Cancel
</a>
</div><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/projects/ title>Projects</a><a class=menu-item href=https://github.com/drosocode title rel="noopener noreffer" target=_blank>Github</a><a class=menu-item href=/about/ title>About</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i>
</a></div></div></header><div class="search-dropdown desktop">
<div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile">
<div id=search-dropdown-mobile></div></div><main class=main>
<div class=container><div class=toc id=toc-auto>
<h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">Control your lights with a Nintendo DS</h1><div class=post-meta>
<div class=post-meta-line><span class=post-author><a href=https://github.com/drosocode title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw"></i>droso</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2020-11-03>2020-11-03</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;494 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;3 minutes&nbsp;</div></div><div class="details toc" id=toc-static kept=true>
<div class="details-summary toc-title">
<span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span>
</div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents>
<ul>
<li><a href=#introduction>Introduction</a></li><li><a href=#installation>Installation</a></li><li><a href=#the-software>The Software</a></li></ul></nav></div></div><div class=content id=content><h2 id=introduction>Introduction</h2><p>A few months ago, I stumbled upon the <a href=https://dslinux.org/ target=_blank rel="noopener noreffer">DS Linux</a> project while browsing the internet. The project is not actively developed anymore (which was to expect as the <a href=https://en.wikipedia.org/wiki/Nintendo_DS target=_blank rel="noopener noreffer">DS</a> is a pretty old device with the first model released in 2004). However, working builds are available on their website <a href=https://dslinux.org/builds/ target=_blank rel="noopener noreffer">here</a> and I wanted to play a bit with it.</p><h2 id=installation>Installation</h2><p>According to the project’s website, DS Linux is compatible with the original DS and the DS Lite (this is the one that I own), and maybe the newer models in compatibility mode. To install it on my DS Lite, I downloaded the <a href=https://dslinux.org/builds/dslinux-dldi.tgz target=_blank rel="noopener noreffer">dslinux-dldi</a> version, as I own a memory expansion pack (which allows to store and edit configuration), and extracted the content at the root of the sd card.</p><p>In the linux/etc directory, copy the <code>rc.defaults</code> as <code>rc.conf</code> and edit the configuration, especially the following variables:</p><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>enable_network_on_boot</span><span class=o>=</span><span class=s2>&#34;YES&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>essid</span><span class=o>=</span><span class=s2>&#34;YOURSSID&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>wepkey</span><span class=o>=</span><span class=s2>&#34;s:YOURKEY&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>ip</span><span class=o>=</span><span class=s2>&#34;10.20.5.5&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>netmask</span><span class=o>=</span><span class=s2>&#34;255.255.0.0&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>gateway</span><span class=o>=</span><span class=s2>&#34;10.20.1.1&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>dns1</span><span class=o>=</span><span class=s2>&#34;10.20.1.1&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>You can now start your DS and shoud be able to connect to your network (note that the DS only supports wep encryption). If you have a telnet server somewhere on your network you can try to connect to it with <code>telnet SERVERIP</code>.</p><figure><a class=lightgallery href=/2020/11/03/control-your-light-with-a-nintendo-ds/assets/ds_3.jpg title=/2020/11/03/control-your-light-with-a-nintendo-ds/assets/ds_3.jpg data-thumbnail=/2020/11/03/control-your-light-with-a-nintendo-ds/assets/ds_3.jpg data-sub-html="<h2>The DS connected to a DD-Wrt router over telnet</h2>">
<img class=lazyload src=/svg/loading.min.svg data-src=assets/ds_3.jpg data-srcset="/2020/11/03/control-your-light-with-a-nintendo-ds/assets/ds_3.jpg, assets/ds_3.jpg 1.5x, /2020/11/03/control-your-light-with-a-nintendo-ds/assets/ds_3.jpg 2x" data-sizes=auto alt=/2020/11/03/control-your-light-with-a-nintendo-ds/assets/ds_3.jpg width=40%>
</a><figcaption class=image-caption>The DS connected to a DD-Wrt router over telnet</figcaption></figure><div class="details admonition warning open">
<div class="details-summary admonition-title">
<i class="icon fas fa-exclamation-triangle fa-fw"></i>Warning<i class="details-icon fas fa-angle-right fa-fw"></i>
</div><div class=details-content>
<div class=admonition-content>The technologies used here like WEP and Telnet are very insecure, please take some security measures to use the following project. Here are some ideas: stop the container (and access point, if dedicated) when you aren’t using it, create a special access point with limited number of connection, mac filtering, client isolation and restricted network access. For example, my dedicated ap is connected to the IoT VLAN which can only access selected ports on my server and don’t has access to the Internet.</div></div></div><h2 id=the-software>The Software</h2><p>So, DS Linux comes with a telnet and an ssh client but as the project hasn’t been updated for several years, all the ssh ciphers are deprecated, the telnet was then the easier way to connect to a server. On the server side, I made a simple docker container with a telnet server and the default shell set to a custom python script. For this script, I used python and whiptail to create a TUI to control home-assistant via its api.</p><p>You can find this part on my <a href=https://github.com/drosoCode/HASS_DS target=_blank rel="noopener noreffer">github repo</a>. Just edit the ip, token and devices in the python script, build and run the container.</p><p>For a faster connection when booting the DS, you can edit the <code>linux/etc/autologin.conf</code> file, set <code>EXEC=/home/ds.sh</code> and create the script <code>linux/home/ds.sh</code> with:</p><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/sh
</span></span></span><span class=line><span class=cl><span class=cp></span>telnet YOURSERVERIP
</span></span></code></pre></td></tr></table></div></div><p>Now, you just need to start your DS, wait for telnet connection and enter your credentials (by default: ds/ds), you can then navigate in the menus using the DS directional cross and A/B buttons.</p><div class=galleryContainer>
<figure class=galleryItem>
<a class=lightgallery href=/2020/11/03/control-your-light-with-a-nintendo-ds/assets/ds_1.jpg>
<img src=/2020/11/03/control-your-light-with-a-nintendo-ds/assets/ds_1.jpg>
</a>
<figcaption class=image-caption>
The DS booting with linux and connecting to WiFi
</figcaption></figure><figure class=galleryItem>
<a class=lightgallery href=/2020/11/03/control-your-light-with-a-nintendo-ds/assets/ds_2.jpg>
<img src=/2020/11/03/control-your-light-with-a-nintendo-ds/assets/ds_2.jpg>
</a>
<figcaption class=image-caption>
The DS connected to the container with the control interface
</figcaption></figure></div></div><div class=post-footer id=post-footer>
<div class=post-info>
<div class=post-info-line>
<div class=post-info-mod>
<span>Updated on 2020-11-03</span>
</div><div class=post-info-license></div></div><div class=post-info-line>
<div class=post-info-md></div><div class=post-info-share>
<span></span>
</div></div></div><div class=post-info-more>
<section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/docker/>docker</a>,&nbsp;<a href=/tags/home-assistant/>home assistant</a>,&nbsp;<a href=/tags/iot/>iot</a>,&nbsp;<a href=/tags/nintendo-ds/>nintendo ds</a>,&nbsp;<a href=/tags/python/>python</a></section><section>
<span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span>
</section></div><div class=post-nav><a href=/2020/10/06/wake-on-lan-and-dual-boot/ class=prev rel=prev title="Wake on Lan and Dual Boot"><i class="fas fa-angle-left fa-fw"></i>Wake on Lan and Dual Boot</a>
<a href=/2021/11/29/upgrading-your-rgb-with-wled-aurora-and-openrgb/ class=next rel=next title="Upgrading your RGB with WLED, Aurora and OpenRGB">Upgrading your RGB with WLED, Aurora and OpenRGB<i class="fas fa-angle-right fa-fw"></i></a></div></div><div id=comments><div id=disqus_thread class=comment></div><noscript>
Please enable JavaScript to view the comments powered by <a href=https://disqus.com/?ref_noscript>Disqus</a>.
</noscript></div></article></div></main><footer class=footer>
<div class=footer-container><div class=footer-line>© <script>document.write("2019 - "+(new Date).getFullYear())</script> DrosoCode | <a href=/privacy-policy>Privacy Policy</a> | <a href=/terms-of-use>Terms of Use</a> | <a href=/index.xml>RSS</a></div><div class=footer-line></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top">
<i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments">
<i class="fas fa-comment fa-fw"></i>
</a>
</div><link rel=stylesheet href=/lib/lightgallery/lightgallery.min.css><link rel=stylesheet href=/custom.css><link rel=stylesheet href=/devicon.min.css><link rel=stylesheet href=/glide.min.css><script type=text/javascript src="https://polyfill.io/v3/polyfill.min.js?features=Array.prototype.fill%2CArray.prototype.find%2CArray.from%2CIntersectionObserver%2CMath.sign%2CObject.assign%2CPromise%2CObject.entries%2CElement.prototype.closest%2CrequestAnimationFrame%2CCustomEvent%2Chtml5shiv%2CObject.values%2Cfetch%2CElement.prototype.after"></script><script type=text/javascript src=https://droso.disqus.com/embed.js defer></script><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/lib/lunr/lunr.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/lightgallery/lightgallery.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-thumbnail.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-zoom.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/glide.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:10},comment:{},lightGallery:{actualSize:!1,exThumbImage:"data-thumbnail",hideBarsDelay:2e3,selector:".lightgallery",speed:400,thumbContHeight:80,thumbWidth:80,thumbnail:!0},search:{highlightTag:"em",maxResultLength:10,noResultsFound:"No results found",snippetLength:30}}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config",{client_storage:"none",anonymize_ip:!0,client_id:"UA-179623617-1"})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=UA-179623617-1" async></script></body></html>